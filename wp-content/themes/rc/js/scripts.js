const headerScroll=()=>{$(".header--desktop").removeClass("scrolled"),$(window).scrollTop()>$(".header--desktop").outerHeight()&&$(".header--desktop").removeClass("scrolled"),$(window).scroll((()=>{const e=$(this).scrollTop(),a=$(".header--desktop");e>=a.outerHeight()?a.addClass("scrolled"):a.removeClass("scrolled")}))},mobileNav=()=>{$(".nav-btn").click((()=>{$(this).toggleClass("nav-open"),$(".header--mobile").toggleClass("nav-open")})),$(window).resize((()=>{$(".header--mobile").removeClass("nav-open")}))},carousel=()=>{const e=$(".gallery__inner"),a=$(".gallery__nav");e.flickity({cellAlign:"center",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30},lazyLoad:!0,pageDots:!1,wrapAround:!0}),a.flickity({asNavFor:".gallery__inner",contain:!0,pageDots:!1,prevNextButtons:!1,wrapAround:!1,cellAlign:"center"}),a.flickity("resize")};function initMap(e){var a=e.find(".marker"),o={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(e[0],o);return n.markers=[],a.each((function(){initMarker($(this),n)})),centerMap(n),n}function initMarker(e,a){var o=e.data("lat"),n=e.data("lng"),l={lat:parseFloat(o),lng:parseFloat(n)},r=new google.maps.Marker({position:l,map:a});if(a.markers.push(r),e.html()){var t=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(r,"click",(function(){t.open(a,r)}))}}function centerMap(e){var a=new google.maps.LatLngBounds;e.markers.forEach((function(e){a.extend({lat:e.position.lat(),lng:e.position.lng()})})),1==e.markers.length?e.setCenter(a.getCenter()):e.fitBounds(a)}$((function(){const e=new Blazy;$(".gallery__inner").on("scroll.flickity",(function(){e.revalidate()})),$(".gallery__nav").on("scroll.flickity",(function(){e.revalidate()})),carousel(),mobileNav(),headerScroll(),initMap($(".acf-map"))}));