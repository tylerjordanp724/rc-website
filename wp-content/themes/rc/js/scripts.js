const headerScroll=()=>{$(".header--desktop").removeClass("scrolled"),$(window).scrollTop()>$(".header--desktop").outerHeight()&&$(".header--desktop").removeClass("scrolled"),$(window).scroll((()=>{const e=$(this).scrollTop(),o=$(".header--desktop");e>=o.outerHeight()?o.addClass("scrolled"):o.removeClass("scrolled")}))},mobileNav=()=>{$(".nav-btn").click((()=>{$(this).toggleClass("nav-open"),$(".header--mobile, body").toggleClass("nav-open")})),$(window).resize((()=>{$(".header--mobile, body").removeClass("nav-open")}))},carousel=()=>{const e=$(".gallery__inner"),o=$(".gallery__nav");e.flickity({cellAlign:"center",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30},lazyLoad:!0,pageDots:!1,wrapAround:!0}),o.flickity({asNavFor:".gallery__inner",contain:!0,pageDots:!1,prevNextButtons:!1,wrapAround:!1,cellAlign:"center"}),o.flickity("resize")};function initMap(e){var o=e.find(".marker"),a={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(e[0],a);return n.markers=[],o.each((function(){initMarker($(this),n)})),centerMap(n),n}function initMarker(e,o){var a=e.data("lat"),n=e.data("lng"),l={lat:parseFloat(a),lng:parseFloat(n)},r=new google.maps.Marker({position:l,map:o});if(o.markers.push(r),e.html()){var t=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(r,"click",(function(){t.open(o,r)}))}}function centerMap(e){var o=new google.maps.LatLngBounds;e.markers.forEach((function(e){o.extend({lat:e.position.lat(),lng:e.position.lng()})})),1==e.markers.length?e.setCenter(o.getCenter()):e.fitBounds(o)}$((function(){const e=new Blazy;$(".gallery__inner").on("scroll.flickity",(function(){e.revalidate()})),$(".gallery__nav").on("scroll.flickity",(function(){e.revalidate()})),carousel(),mobileNav(),headerScroll(),initMap($(".acf-map"))}));