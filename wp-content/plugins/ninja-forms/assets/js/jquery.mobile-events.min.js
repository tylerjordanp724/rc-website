"use strict";!function(e){function t(){var e=c();e!==s&&(s=e,h.trigger("orientationchange"))}function a(t,a,o,n){var i=o.type;o.type=a,e.event.dispatch.call(t,o,n),o.type=i}e.attrFn=e.attrFn||{};var o=navigator.userAgent.toLowerCase(),n=o.indexOf("chrome")>-1&&(o.indexOf("windows")>-1||o.indexOf("macintosh")>-1||o.indexOf("linux")>-1)&&o.indexOf("mobile")<0&&o.indexOf("android")<0,i={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!n,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!n?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!n?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!n?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!n?"tap":"click",scrollevent:"ontouchstart"in window&&!n?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return i.touch_capable},e.getStartEvent=function(){return i.startevent},e.getEndEvent=function(){return i.endevent},e.getMoveEvent=function(){return i.moveevent},e.getTapEvent=function(){return i.tapevent},e.getScrollEvent=function(){return i.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],(function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)},e.attrFn[a]=!0})),e.event.special.tapstart={setup:function(){var t=this,o=e(t);o.on(i.startevent,(function e(n){if(o.data("callee",e),n.which&&1!==n.which)return!1;var c=n.originalEvent,s={position:{x:i.touch_capable?c.touches[0].screenX:n.screenX,y:i.touch_capable?c.touches[0].screenY:n.screenY},offset:{x:Math.round(i.touch_capable?c.changedTouches[0].pageX-o.offset().left:n.pageX-o.offset().left),y:Math.round(i.touch_capable?c.changedTouches[0].pageY-o.offset().top:n.pageY-o.offset().top)},time:Date.now(),target:n.target};return a(t,"tapstart",n,s),!0}))},remove:function(){e(this).off(i.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,o=e(t);o.on(i.moveevent,(function e(n){o.data("callee",e);var c=n.originalEvent,s={position:{x:i.touch_capable?c.touches[0].screenX:n.screenX,y:i.touch_capable?c.touches[0].screenY:n.screenY},offset:{x:Math.round(i.touch_capable?c.changedTouches[0].pageX-o.offset().left:n.pageX-o.offset().left),y:Math.round(i.touch_capable?c.changedTouches[0].pageY-o.offset().top:n.pageY-o.offset().top)},time:Date.now(),target:n.target};return a(t,"tapmove",n,s),!0}))},remove:function(){e(this).off(i.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,o=e(t);o.on(i.endevent,(function e(n){o.data("callee",e);var c=n.originalEvent,s={position:{x:i.touch_capable?c.changedTouches[0].screenX:n.screenX,y:i.touch_capable?c.changedTouches[0].screenY:n.screenY},offset:{x:Math.round(i.touch_capable?c.changedTouches[0].pageX-o.offset().left:n.pageX-o.offset().left),y:Math.round(i.touch_capable?c.changedTouches[0].pageY-o.offset().top:n.pageY-o.offset().top)},time:Date.now(),target:n.target};return a(t,"tapend",n,s),!0}))},remove:function(){e(this).off(i.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t,o=this,n=e(o),c={x:0,y:0},s=0,r=0;n.on(i.startevent,(function e(p){if(p.which&&1!==p.which)return!1;n.data("tapheld",!1),t=p.target;var h=p.originalEvent,l=Date.now(),u={x:i.touch_capable?h.touches[0].screenX:p.screenX,y:i.touch_capable?h.touches[0].screenY:p.screenY},g={x:i.touch_capable?h.touches[0].pageX-h.touches[0].target.offsetLeft:p.offsetX,y:i.touch_capable?h.touches[0].pageY-h.touches[0].target.offsetTop:p.offsetY};return c.x=p.originalEvent.targetTouches?p.originalEvent.targetTouches[0].pageX:p.pageX,c.y=p.originalEvent.targetTouches?p.originalEvent.targetTouches[0].pageY:p.pageY,s=c.x,r=c.y,i.hold_timer=window.setTimeout((function(){var f=c.x-s,d=c.y-r;if(p.target==t&&(c.x==s&&c.y==r||f>=-i.tap_pixel_range&&f<=i.tap_pixel_range&&d>=-i.tap_pixel_range&&d<=i.tap_pixel_range)){n.data("tapheld",!0);var v=Date.now(),w={x:i.touch_capable?h.touches[0].screenX:p.screenX,y:i.touch_capable?h.touches[0].screenY:p.screenY},_={x:Math.round(i.touch_capable?h.changedTouches[0].pageX-n.offset().left:p.pageX-n.offset().left),y:Math.round(i.touch_capable?h.changedTouches[0].pageY-n.offset().top:p.pageY-n.offset().top)},T={startTime:l,endTime:v,startPosition:u,startOffset:g,endPosition:w,endOffset:_,duration:v-l,target:p.target};n.data("callee1",e),a(o,"taphold",p,T)}}),i.taphold_threshold),!0})).on(i.endevent,(function e(){n.data("callee2",e),n.data("tapheld",!1),window.clearTimeout(i.hold_timer)})).on(i.moveevent,(function e(t){n.data("callee3",e),s=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,r=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY}))},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2).off(i.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t,o,n,c=this,s=e(c),r=null,p=!1;s.on(i.startevent,(function e(a){return(!a.which||1===a.which)&&(s.data("doubletapped",!1),t=a.target,s.data("callee1",e),n=a.originalEvent,r||(r={position:{x:i.touch_capable?n.touches[0].screenX:a.screenX,y:i.touch_capable?n.touches[0].screenY:a.screenY},offset:{x:Math.round(i.touch_capable?n.changedTouches[0].pageX-s.offset().left:a.pageX-s.offset().left),y:Math.round(i.touch_capable?n.changedTouches[0].pageY-s.offset().top:a.pageY-s.offset().top)},time:Date.now(),target:a.target}),!0)})).on(i.endevent,(function e(h){var l=Date.now(),u=l-(s.data("lastTouch")||l+1);if(window.clearTimeout(o),s.data("callee2",e),u<i.doubletap_int&&h.target==t&&u>100){s.data("doubletapped",!0),window.clearTimeout(i.tap_timer);var g={position:{x:i.touch_capable?h.originalEvent.changedTouches[0].screenX:h.screenX,y:i.touch_capable?h.originalEvent.changedTouches[0].screenY:h.screenY},offset:{x:Math.round(i.touch_capable?n.changedTouches[0].pageX-s.offset().left:h.pageX-s.offset().left),y:Math.round(i.touch_capable?n.changedTouches[0].pageY-s.offset().top:h.pageY-s.offset().top)},time:Date.now(),target:h.target},f={firstTap:r,secondTap:g,interval:g.time-r.time};p||(a(c,"doubletap",h,f),r=null),p=!0,window.setTimeout((function(){p=!1}),i.doubletap_int)}else s.data("lastTouch",l),o=window.setTimeout((function(){r=null,window.clearTimeout(o)}),i.doubletap_int,[h]);s.data("lastTouch",l)}))},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,o=e(t),n=null,c=null,s={x:0,y:0};o.on(i.startevent,(function e(t){return(!t.which||1===t.which)&&(c=Date.now(),n=t.target,o.data("callee1",e),s.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,s.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)})).on(i.endevent,(function e(r){if(o.data("callee2",e),r.target==n){var p=r.originalEvent.changedTouches?r.originalEvent.changedTouches[0].pageX:r.pageX,h=r.originalEvent.changedTouches?r.originalEvent.changedTouches[0].pageY:r.pageY;i.tap_timer=window.setTimeout((function(){if(!o.data("doubletapped")&&!o.data("tapheld")&&s.x==p&&s.y==h){var e=r.originalEvent,n={position:{x:i.touch_capable?e.changedTouches[0].screenX:r.screenX,y:i.touch_capable?e.changedTouches[0].screenY:r.screenY},offset:{x:Math.round(i.touch_capable?e.changedTouches[0].pageX-o.offset().left:r.pageX-o.offset().left),y:Math.round(i.touch_capable?e.changedTouches[0].pageY-o.offset().top:r.pageY-o.offset().top)},time:Date.now(),target:r.target};n.time-c<i.taphold_threshold&&a(t,"singletap",r,n)}}),i.doubletap_int)}}))},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t,o,n=this,c=e(n),s=!1,r=null,p={x:0,y:0};c.on(i.startevent,(function e(a){return c.data("callee1",e),(!a.which||1===a.which)&&(s=!0,p.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,p.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,t=Date.now(),r=a.target,o=a.originalEvent.targetTouches?a.originalEvent.targetTouches:[a],!0)})).on(i.endevent,(function e(h){c.data("callee2",e);var l=h.originalEvent.targetTouches?h.originalEvent.changedTouches[0].pageX:h.pageX,u=h.originalEvent.targetTouches?h.originalEvent.changedTouches[0].pageY:h.pageY,g=p.x-l,f=p.y-u;if(r==h.target&&s&&Date.now()-t<i.taphold_threshold&&(p.x==l&&p.y==u||g>=-i.tap_pixel_range&&g<=i.tap_pixel_range&&f>=-i.tap_pixel_range&&f<=i.tap_pixel_range)){for(var d=h.originalEvent,v=[],w=0;w<o.length;w++){var _={position:{x:i.touch_capable?d.changedTouches[w].screenX:h.screenX,y:i.touch_capable?d.changedTouches[w].screenY:h.screenY},offset:{x:Math.round(i.touch_capable?d.changedTouches[w].pageX-c.offset().left:h.pageX-c.offset().left),y:Math.round(i.touch_capable?d.changedTouches[w].pageY-c.offset().top:h.pageY-c.offset().top)},time:Date.now(),target:h.target};v.push(_)}a(n,"tap",h,v)}}))},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){var t,a=e(this),o=!1,n=!1,c={x:0,y:0},s={x:0,y:0};a.on(i.startevent,(function n(r){(a=e(r.currentTarget)).data("callee1",n),c.x=r.originalEvent.targetTouches?r.originalEvent.targetTouches[0].pageX:r.pageX,c.y=r.originalEvent.targetTouches?r.originalEvent.targetTouches[0].pageY:r.pageY,s.x=c.x,s.y=c.y,o=!0;var p=r.originalEvent;t={position:{x:i.touch_capable?p.touches[0].screenX:r.screenX,y:i.touch_capable?p.touches[0].screenY:r.screenY},offset:{x:Math.round(i.touch_capable?p.changedTouches[0].pageX-a.offset().left:r.pageX-a.offset().left),y:Math.round(i.touch_capable?p.changedTouches[0].pageY-a.offset().top:r.pageY-a.offset().top)},time:Date.now(),target:r.target}})),a.on(i.moveevent,(function r(p){(a=e(p.currentTarget)).data("callee2",r),s.x=p.originalEvent.targetTouches?p.originalEvent.targetTouches[0].pageX:p.pageX,s.y=p.originalEvent.targetTouches?p.originalEvent.targetTouches[0].pageY:p.pageY;var h,l=a.parent().data("xthreshold")?a.parent().data("xthreshold"):a.data("xthreshold"),u=a.parent().data("ythreshold")?a.parent().data("ythreshold"):a.data("ythreshold"),g=void 0!==l&&!1!==l&&parseInt(l)?parseInt(l):i.swipe_h_threshold,f=void 0!==u&&!1!==u&&parseInt(u)?parseInt(u):i.swipe_v_threshold;if(c.y>s.y&&c.y-s.y>f&&(h="swipeup"),c.x<s.x&&s.x-c.x>g&&(h="swiperight"),c.y<s.y&&s.y-c.y>f&&(h="swipedown"),c.x>s.x&&c.x-s.x>g&&(h="swipeleft"),null!=h&&o){c.x=0,c.y=0,s.x=0,s.y=0,o=!1;var d=p.originalEvent,v={position:{x:i.touch_capable?d.touches[0].screenX:p.screenX,y:i.touch_capable?d.touches[0].screenY:p.screenY},offset:{x:Math.round(i.touch_capable?d.changedTouches[0].pageX-a.offset().left:p.pageX-a.offset().left),y:Math.round(i.touch_capable?d.changedTouches[0].pageY-a.offset().top:p.pageY-a.offset().top)},time:Date.now(),target:p.target},w=Math.abs(t.position.x-v.position.x),_=Math.abs(t.position.y-v.position.y),T={startEvnt:t,endEvnt:v,direction:h.replace("swipe",""),xAmount:w,yAmount:_,duration:v.time-t.time};n=!0,a.trigger("swipe",T).trigger(h,T)}})),a.on(i.endevent,(function c(s){var r="";if((a=e(s.currentTarget)).data("callee3",c),n){var p=a.data("xthreshold"),h=a.data("ythreshold"),l=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):i.swipe_h_threshold,u=void 0!==h&&!1!==h&&parseInt(h)?parseInt(h):i.swipe_v_threshold,g=s.originalEvent,f={position:{x:i.touch_capable?g.changedTouches[0].screenX:s.screenX,y:i.touch_capable?g.changedTouches[0].screenY:s.screenY},offset:{x:Math.round(i.touch_capable?g.changedTouches[0].pageX-a.offset().left:s.pageX-a.offset().left),y:Math.round(i.touch_capable?g.changedTouches[0].pageY-a.offset().top:s.pageY-a.offset().top)},time:Date.now(),target:s.target};t.position.y>f.position.y&&t.position.y-f.position.y>u&&(r="swipeup"),t.position.x<f.position.x&&f.position.x-t.position.x>l&&(r="swiperight"),t.position.y<f.position.y&&f.position.y-t.position.y>u&&(r="swipedown"),t.position.x>f.position.x&&t.position.x-f.position.x>l&&(r="swipeleft");var d=Math.abs(t.position.x-f.position.x),v=Math.abs(t.position.y-f.position.y),w={startEvnt:t,endEvnt:f,direction:r.replace("swipe",""),xAmount:d,yAmount:v,duration:f.time-t.time};a.trigger("swipeend",w)}o=!1,n=!1}))},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.moveevent,e(this).data.callee2).off(i.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function t(e,t){a(c,(o=t)?"scrollstart":"scrollend",e)}var o,n,c=this,s=e(c);s.on(i.scrollevent,(function e(a){s.data("callee",e),o||t(a,!0),clearTimeout(n),n=setTimeout((function(){t(a,!1)}),50)}))},remove:function(){e(this).off(i.scrollevent,e(this).data.callee)}};var c,s,r,p,h=e(window),l={0:!0,180:!0};if(i.orientation_support){var u=window.innerWidth||h.width(),g=window.innerHeight||h.height();r=u>g&&u-g>50,p=l[window.orientation],(r&&p||!r&&!p)&&(l={"-90":!0,90:!0})}e.event.special.orientationchange={setup:function(){return!i.orientation_support&&(s=c(),h.on("throttledresize",t),!0)},teardown:function(){return!i.orientation_support&&(h.off("throttledresize",t),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=c(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=c=function(){var e=document.documentElement;return(i.orientation_support?l[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",w)},teardown:function(){e(this).off("resize",w)}};var f,d,v,w=function(){d=Date.now(),(v=d-_)>=250?(_=d,e(this).trigger("throttledresize")):(f&&window.clearTimeout(f),f=window.setTimeout(t,250-v))},_=0;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},(function(t,a){e.event.special[t]={setup:function(){e(this).on(a,e.noop)}}}))}(jQuery);