!function(e,t){e.widget("ui.combobox",{version:"@VERSION",widgetEventPrefix:"combobox",uiCombo:null,uiInput:null,_wasOpen:!1,_create:function(){var t,i,n=this.element.hide();t=this.uiInput=e("<input />").insertAfter(n).addClass("ui-widget ui-widget-content ui-corner-left ui-combobox-input").val(n.children(":selected").text()).attr("tabindex",n.attr("tabindex")),i=this.uiCombo=t.wrap("<span>").parent().addClass("ui-combobox").insertAfter(n),t.autocomplete({delay:0,minLength:0,appendTo:i,source:e.proxy(this,"_linkSelectList")}),e("<button>").attr("tabIndex",-1).attr("type","button").insertAfter(t).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon ui-combobox-button"),t.data("ui-autocomplete")._renderItem=function(t,i){return e("<li>").append(e("<a>").html(i.label)).appendTo(t)},this._on(this._events)},_linkSelectList:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(t.term),"i");i(this.element.children("option").map((function(){var i=e(this).text();if(this.value&&(!t.term||n.test(i))){var o={label:i,value:i,option:this};return t.term&&(o.label=i.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(t.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")),o}})))},_events:{"autocompletechange input":function(t,i){var n=e(t.currentTarget),o=i.item?i.item.option:null;if(!i.item){var u=new RegExp("^"+e.ui.autocomplete.escapeRegex(n.val())+"$","i"),l=!1,s=null,a=0,c=-1,r=-1,p=null;if(this.options.autofillsinglematch&&(s=new RegExp(e.ui.autocomplete.escapeRegex(n.val()),"i")),this.element.children("option").each((function(){var t=e(this).text();if(t.match(u))return this.selected=l=!0,!1;s&&(c++,t.match(s)&&(a++,p=e(this),r=c))})),!l)if(1==a){(o=p[0]).selected=!0;var h=p.text();n.val(h),n.data("ui-autocomplete").term=h,this.element.prop("selectedIndex",r),console.log("Found single match with '"+h+"'")}else n.val(""),n.data("ui-autocomplete").term="",this.element.prop("selectedIndex",-1)}this._trigger("change",t,{item:o})},"autocompleteselect input":function(e,t){t.item.option.selected=!0,this._trigger("select",e,{item:t.item.option})},"autocompleteopen input":function(e,t){this.uiCombo.children(".ui-autocomplete").outerWidth(this.uiCombo.outerWidth(!0))},"mousedown .ui-combobox-button":function(e){this._wasOpen=this.uiInput.autocomplete("widget").is(":visible")},"click .ui-combobox-button":function(e){this.uiInput.focus(),this._wasOpen||this.uiInput.autocomplete("search","")}},value:function(e){var t,i=this.element,n=!1;if(!arguments.length)return(t=i.children(":selected")).length>0?t.val():null;i.prop("selectedIndex",-1),i.children("option").each((function(){if(this.value==e)return this.selected=n=!0,!1})),n?this.uiInput.val(i.children(":selected").text()):(this.uiInput.val(""),this.element.prop("selectedIndex",-1))},_destroy:function(){this.element.show(),this.uiCombo.replaceWith(this.element)},widget:function(){return this.uiCombo},_getCreateEventData:function(){return{select:this.element,combo:this.uiCombo,input:this.uiInput}}})}(jQuery);