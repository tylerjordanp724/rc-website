function NinjaBatchProcessor(t){var o=this,e={closeOnClick:!1,closeOnEsc:!0,useProgressBar:!0};void 0===t.content&&(t.content=""),e.content=t.content,void 0!==t.loadingText&&(e.loadingText=t.loadingText),void 0!==t.btnPrimaryText?(e.btnPrimary={text:t.btnPrimaryText,callback:function(t){a.maybeShowActions(!1),a.maybeShowProgress(!0),o.postToProcessor(o,-1,a)}},e.btnSecondary={text:t.btnSecondaryText,callback:function(t){a.toggleModal(!1)}}):e.onOpenCallback=function(){this.maybeShowActions(!1),this.maybeShowProgress(!0),o.postToProcessor(o,-1,this)},this.postToProcessor=function(o,e,a,n){if(void 0===n)n={action:"nf_batch_process",batch_type:t.batch_type,security:nfAdmin.batchNonce,extraData:t.extraData};jQuery.post(ajaxurl,n,(function(r){if((r=JSON.parse(r)).batch_complete)return a.setProgress(100),a.toggleModal(!1),void 0!==t.onCompleteCallback&&t.onCompleteCallback(r),!1;-1==e&&(e=void 0!==r.step_total?r.step_total:r.step_remaining),void 0!==r.extraData&&(n.extraData=r.extraData);var s=e-r.step_remaining,c=Math.round(s/e*100);a.incrementProgress(c),o.postToProcessor(o,e,a,n)}))};var a=new NinjaModal(e)}