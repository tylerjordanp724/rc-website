jQuery(document).ready((function(o){var r,n={name:"",content:""};o(document).on("click","#nf-import-form-submit",(function(o){if(""==n.name)return!1;new NinjaBatchProcessor({batch_type:"import_form",extraData:n,loadingText:"Importing...",onCompleteCallback:function(o){if(void 0===o.form_id)return!1;jQuery("#nf-import-file").val(""),jQuery("#nf-import-url").attr("href",nfAdmin.builderURL+o.form_id);var r=!1;if(void 0!==o.errors){var n="";o.errors.forEach((function(o){"fatal"==o.type&&(r=!0),console.error(o.type+": "+o.code),n+="<p>"+o.message+"</p>"})),jQuery("#row-nf-import-response-error td").html(n),jQuery("#row-nf-import-response-error").show()}r||jQuery("#row-nf-import-response").show()}})})),o(document).on("change","#nf-import-file",(function(o){jQuery("#row-nf-import-response").hide(),jQuery("#row-nf-import-response-error").hide(),jQuery("#row-nf-import-type-error").hide();var r=o.target.files[0];if(!r)return!1;if(".nff"!==r.name.match(/\.[0-9a-z]+$/i)[0])return jQuery("#row-nf-import-type-error").show(),n.name="",n.content="",!1;var e=new FileReader;e.addEventListener("load",(function(){n.name=r.name,n.content=e.result}),!1),e.readAsDataURL(r)})),o(document).off("mousedown").on("mousedown",(function(o){r=o.target})),o("#nf_export_form_2").off("focus").on("focus",(function(){o(".nf-form-dropdown").show()})),o("#nf_export_form_2").off("keyup").on("keyup",(function(){o(".nf-form-dropdown").show();var r=o(this).val();""===r?o(".nf-form-dropdown").find("li").show():o.each(o("#nf_form_export_options span"),(function(n,e){var t=o(e);0<=t.text().toLowerCase().indexOf(r.toLowerCase())?t.parent().show():t.parent().hide()}))})),o("#nf_export_form_2").off("blur").on("blur",(function(n){void 0!==r&&(o(r).hasClass("nf-form-option-item")||(o("#nf_export_form_2").val(""),o(".nf-form-dropdown").hide()))})),o(".nf-form-option").off("click").on("click",(function(){var r=o(this).data("val");o("#nf_export_form").val(r),o("#nf_export_form_2").val(""),o(".nf-form-dropdown").hide()}))}));